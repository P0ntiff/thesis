IMAGENET_CLASSES_OUTPUT = 'data/imagenet_classes.json'

IMAGENET_OBJ_DET_CLASSES_INPUT = 'data/imagenet_obj_det_classes_raw.txt'
IMAGENET_OBJ_DET_CLASSES_OUTPUT = 'data/imagenet_obj_det_classes.json'

# For image annotation (imagenet_annotator.py)
IMG_BASE_PATH = 'data/imagenet_val_subset/ILSVRC2012_val_'
XML_BASE_PATH = 'data/imagenet_bb_subset/ILSVRC2012_val_'
ANNOTATE_BASE_PATH = 'data/imagenet_annotated_subset/ILSVRC2012_val_'
MASK_BASE_PATH = 'data/imagenet_masked_ground_truth/ILSVRC2012_val_'

# methods
LIFT = 'deeplift'
LIME = 'lime'
SHAP = 'shap'
GRAD = 'gradcam'

# models
VGG = 'vgg16'
INCEPT = 'inception'
RESNET = 'resnet'

# metrics
INTERSECT = 'intersect'
INTENSITY = 'intensity'

# metric thesholds for IOU/ IOU*
INTERSECT_THRESHOLD = 0.5
INTENSITY_THRESHOLD = 1

METHODS = [LIFT, GRAD, LIME]
MODELS = [VGG, INCEPT, RESNET]
METRICS = [INTERSECT, INTENSITY]

# results folder
RESULTS_EVAL_PATH = 'results/eval'
RESULTS_ADAPTED_PATH = 'results/adapted'
RESULTS_BASE_PATH = RESULTS_EVAL_PATH
# RESULTS_BASE_PATH = RESULTS_ADAPTED_PATH

# For feeding into model architectures
STD_IMG_SIZE = (224, 224)
NONSTD_IMG_SIZE = (299, 299)

VGG_LAYER_MAP = {"block5_conv3": 17,
                 "block4_conv3": 13,
                 "block3_conv3": 9,
                 "block3_conv1": 7,     # shap original target
                 "block2_conv2": 5}

INCEPTION_LAYER_MAP = {"conv2d_94": 299,
                       "conv2d_188": 299,
                       "mixed9": 279,
                       "mixed10": 310}

RESNET_LAYER_MAP = {"res5c_branch2c": 171,
                    "res2c_branch2c": 35}

LAYER_TARGETS = {
    SHAP:
        {INCEPT: INCEPTION_LAYER_MAP["conv2d_188"],
         VGG: VGG_LAYER_MAP["block3_conv3"],  # block5_conv3, block3_conv1
         RESNET: RESNET_LAYER_MAP["res2c_branch2c"]},
    GRAD:
        {INCEPT: INCEPTION_LAYER_MAP["conv2d_188"],
         VGG: VGG_LAYER_MAP["block5_conv3"],
         RESNET: RESNET_LAYER_MAP["res5c_branch2c"]},
    LIFT:
        {INCEPT: None,
         VGG: None,
         RESNET: None},
    LIME:
        {INCEPT: None,
         VGG: None,
         RESNET: None}
}


# strong confidence ImageNet examples (p > 0.9) for VGG-16 --> 380 examples
# ResNet --> 469 examples
# InceptionV3 --> 470 examples
GOOD_EXAMPLES = {VGG: [7, 11, 12, 13, 14, 15, 16, 18, 19, 20, 24, 25, 27, 31, 35, 36, 42, 43, 47, 52,
                     53, 54, 56, 58, 63, 73, 74, 75, 82, 86, 90, 93, 98, 99, 107, 109, 116, 120, 122,
                     123, 124, 127, 130, 131, 133, 135, 138, 142, 143, 144, 145, 153, 156, 158, 160,
                     164, 165, 166, 167, 168, 169, 171, 172, 173, 177, 179, 186, 187, 188, 194, 196,
                     199, 200, 206, 209, 211, 213, 215, 216, 217, 218, 225, 227, 230, 231, 233, 234,
                     235, 238, 239, 240, 243, 247, 251, 252, 256, 258, 259, 264, 266, 272, 276, 278,
                     280, 281, 283, 284, 287, 288, 289, 290, 299, 300, 304, 307, 308, 309, 316, 318,
                     319, 322, 324, 328, 330, 336, 340, 341, 342, 343, 347, 348, 349, 352, 354, 355,
                     357, 359, 361, 362, 363, 367, 368, 371, 374, 376, 382, 384, 385, 386, 388, 390,
                     391, 392, 393, 394, 396, 397, 399, 407, 409, 411, 414, 415, 417, 420, 421, 423,
                     424, 428, 430, 431, 432, 439, 440, 444, 446, 453, 454, 455, 458, 460, 463, 466,
                     467, 470, 471, 472, 474, 475, 478, 481, 483, 485, 486, 489, 490, 491, 494, 495,
                     497, 499, 504, 505, 509, 511, 512, 521, 522, 525, 529, 532, 533, 536, 537, 540,
                     544, 545, 547, 548, 550, 551, 552, 556, 559, 560, 563, 567, 569, 571, 573, 575,
                     584, 586, 595, 598, 604, 607, 609, 613, 618, 623, 624, 626, 628, 629, 630, 631,
                     634, 641, 645, 665, 669, 673, 674, 675, 679, 681, 682, 686, 689, 690, 691, 692,
                     693, 694, 695, 697, 699, 702, 703, 705, 706, 710, 711, 713, 714, 716, 718, 719,
                     720, 725, 726, 728, 732, 735, 736, 739, 742, 744, 746, 747, 750, 752, 753, 754,
                     755, 760, 763, 765, 766, 770, 771, 773, 775, 779, 781, 785, 789, 793, 795, 797,
                     798, 809, 811, 812, 814, 816, 819, 829, 830, 832, 837, 839, 842, 844, 847, 849,
                     850, 853, 857, 859, 860, 861, 864, 868, 872, 878, 881, 883, 884, 885, 888, 890,
                     891, 892, 893, 898, 900, 905, 908, 911, 916, 918, 920, 924, 928, 929, 934, 939,
                     941, 943, 944, 950, 951, 952, 960, 961, 962, 963, 966, 968, 973, 974, 975, 981,
                     984, 988, 991, 994, 995],
                 RESNET: [3, 7, 11, 12, 13, 14, 15, 16, 20, 21, 24, 25, 26, 27, 31, 35, 36, 38, 42, 43, 45, 47, 52, 53,
                        54, 56, 58, 63, 66, 68, 69, 72, 74, 75, 77, 78, 79, 80, 81, 82, 86, 89, 93, 95, 99, 101, 107,
                        109, 111, 116, 120, 122, 123, 127, 129, 130, 131, 133, 135, 138, 139, 141, 142, 143, 144, 145,
                        152, 153, 154, 155, 156, 157, 158, 160, 163, 164, 165, 166, 167, 168, 169, 171, 172, 173, 174,
                        177, 179, 183, 186, 187, 194, 196, 198, 199, 200, 201, 206, 208, 209, 211, 212, 213, 215, 216,
                        217, 218, 222, 225, 230, 233, 238, 240, 243, 245, 247, 251, 252, 256, 258, 259, 261, 263, 264,
                        272, 276, 278, 280, 281, 282, 283, 284, 287, 288, 294, 299, 304, 307, 308, 309, 316, 318, 319,
                        322, 323, 324, 328, 330, 332, 335, 340, 341, 342, 343, 347, 348, 349, 352, 354, 355, 357, 359,
                        361, 362, 363, 368, 370, 371, 373, 374, 382, 384, 385, 386, 388, 390, 391, 392, 393, 394, 396,
                        397, 399, 403, 405, 407, 409, 411, 414, 415, 417, 418, 420, 421, 422, 423, 424, 426, 428, 430,
                        431, 437, 438, 439, 440, 444, 445, 446, 448, 449, 451, 452, 453, 454, 455, 458, 460, 461, 462,
                        463, 466, 467, 470, 471, 472, 474, 475, 478, 482, 483, 485, 486, 487, 489, 490, 494, 495, 497,
                        499, 504, 505, 509, 511, 512, 520, 524, 525, 526, 527, 533, 536, 537, 538, 540, 541, 542, 544,
                        545, 546, 547, 548, 550, 551, 552, 556, 559, 560, 563, 566, 567, 569, 570, 571, 572, 575, 577,
                        583, 584, 586, 588, 590, 592, 594, 595, 598, 602, 604, 607, 609, 612, 613, 615, 616, 617, 618,
                        620, 623, 624, 625, 626, 628, 629, 630, 631, 634, 641, 642, 643, 645, 648, 649, 653, 654, 657,
                        665, 668, 671, 673, 674, 679, 681, 682, 686, 689, 690, 691, 692, 693, 694, 697, 699, 702, 703,
                        705, 706, 708, 709, 710, 711, 713, 714, 716, 718, 719, 720, 722, 725, 726, 728, 731, 732, 733,
                        734, 735, 736, 738, 739, 740, 741, 742, 744, 746, 747, 752, 753, 755, 760, 761, 763, 765, 766,
                        769, 770, 771, 773, 774, 775, 779, 781, 784, 785, 786, 793, 797, 798, 807, 809, 811, 812, 814,
                        819, 827, 829, 830, 832, 837, 839, 842, 844, 849, 850, 852, 853, 855, 857, 860, 861, 864, 865,
                        866, 868, 871, 872, 876, 877, 878, 880, 883, 884, 885, 886, 890, 891, 892, 898, 900, 904, 905,
                        906, 908, 916, 920, 924, 928, 929, 930, 933, 934, 935, 936, 939, 941, 943, 944, 945, 951, 952,
                        960, 961, 962, 963, 966, 968, 969, 974, 975, 976, 978, 981, 983, 984, 988, 989, 991, 992, 994,
                        995, 996, 997, 1000],
                 INCEPT: [1, 9, 11, 13, 16, 17, 20, 21, 23, 24, 25, 26, 27, 31, 33, 34, 35, 36, 38, 41, 42, 43, 45, 47,
                        49, 51, 52, 53, 54, 56, 58, 66, 67, 69, 74, 78, 79, 81, 82, 83, 86, 89, 90, 93, 96, 98, 99, 101,
                        103, 107, 109, 111, 116, 120, 122, 123, 126, 127, 129, 130, 131, 133, 135, 138, 140, 141, 143,
                        144, 145, 152, 153, 154, 155, 158, 160, 163, 164, 165, 166, 167, 168, 169, 171, 172, 173, 177,
                        179, 183, 186, 187, 189, 194, 196, 197, 199, 200, 201, 208, 209, 211, 212, 213, 215, 216, 217,
                        222, 225, 227, 230, 231, 234, 235, 243, 245, 247, 251, 252, 258, 259, 262, 263, 264, 268, 271,
                        272, 275, 276, 281, 282, 283, 284, 288, 291, 294, 299, 300, 307, 308, 318, 319, 322, 323, 324,
                        325, 328, 330, 332, 336, 337, 340, 341, 342, 343, 347, 348, 349, 352, 354, 355, 357, 359, 361,
                        362, 363, 364, 366, 367, 368, 370, 371, 373, 374, 381, 382, 383, 384, 385, 386, 388, 390, 391,
                        392, 394, 396, 399, 403, 404, 405, 406, 407, 411, 414, 415, 416, 417, 420, 421, 424, 426, 428,
                        430, 432, 438, 440, 444, 445, 446, 447, 449, 451, 452, 453, 454, 455, 458, 460, 463, 466, 467,
                        471, 472, 475, 478, 479, 482, 483, 486, 488, 490, 491, 494, 495, 496, 499, 504, 508, 509, 512,
                        514, 517, 521, 523, 524, 525, 526, 528, 532, 533, 534, 535, 536, 537, 538, 540, 541, 542, 544,
                        545, 546, 548, 550, 551, 553, 554, 556, 559, 560, 562, 563, 566, 567, 569, 570, 571, 572, 573,
                        575, 577, 578, 581, 582, 584, 586, 590, 592, 595, 598, 602, 604, 607, 609, 610, 617, 618, 620,
                        623, 624, 626, 628, 629, 630, 631, 634, 637, 638, 641, 645, 646, 647, 649, 653, 656, 657, 658,
                        659, 663, 664, 668, 669, 674, 681, 682, 685, 688, 689, 690, 691, 692, 693, 694, 697, 699, 702,
                        703, 705, 706, 708, 710, 714, 716, 718, 719, 720, 722, 724, 725, 726, 728, 731, 732, 733, 736,
                        737, 738, 739, 742, 744, 746, 747, 752, 753, 754, 755, 760, 761, 763, 764, 765, 766, 767, 769,
                        770, 771, 775, 778, 781, 784, 785, 786, 787, 793, 797, 798, 807, 809, 811, 812, 814, 817, 819,
                        823, 824, 827, 829, 830, 834, 836, 837, 839, 840, 842, 844, 847, 849, 850, 853, 854, 857, 860,
                        861, 863, 864, 865, 868, 872, 878, 882, 883, 884, 885, 886, 888, 892, 893, 900, 904, 906, 907,
                        910, 915, 916, 917, 918, 920, 922, 923, 924, 928, 929, 933, 934, 935, 936, 939, 940, 943, 944,
                        948, 951, 952, 954, 956, 957, 959, 960, 962, 963, 966, 968, 969, 975, 981, 983, 988, 989, 990,
                        991, 994, 995, 996]
                 }
